# テストケース: Issue #3 - 書籍詳細ページのメモ作成導線と公開設定

## テストケース1: ログインユーザーにメモ作成ボタンが表示される
- **目的**: `/books/:id` を閲覧したログインユーザーに「メモを作成する」ボタンが表示され、クリックで作成ページへ遷移できることを確認する。
- **手順**
  1. ログイン状態を用意する。
  2. 書籍詳細ページを開く。
  3. メモ一覧セクション直下のボタン表示と遷移先を確認する。
- **期待結果**
  - ボタンが表示され、クリックで `/books/:id/memos/new` に遷移する。
  - 未ログイン状態ではボタン非表示のままガイダンス文が出る。
- **結果**: 未実施 (Supabase 認証情報が未接続のため動作確認できず)。

## テストケース2: メモ作成ページで公開/非公開登録が行える
- **目的**: 新規メモ作成画面で公開・非公開のいずれかで保存でき、保存後に書籍ページへ戻ることを確認する。
- **手順**
  1. `/books/:id/memos/new` にアクセスする。
  2. テキストエリアに任意の内容を入力する。
  3. 「メモを公開する」ボタンを押下する。
  4. 同手順で「公開せず登録する」も検証する。
- **期待結果**
  - それぞれ `is_public` が `true / false` で API に登録される。
  - 保存完了後に `/books/:id` にリダイレクトされる。
- **結果**: 未実施 (Supabase API が利用不可のため)。

## テストケース3: メモの編集・削除が行える
- **目的**: 書籍ページのメモカードに表示される編集/削除アイコンから、本人のメモのみ更新・削除できることを確認する。
- **手順**
  1. 書籍ページで自分のメモに表示されるアイコンを確認する。
  2. 編集アイコンを押下して `/books/:id/memos/:memoId/edit` に遷移する。
  3. 内容と公開設定を変更して保存する。
  4. 削除アイコンを押下し、カードが一覧から消えることを確認する。
- **期待結果**
  - 編集内容が API 経由で更新され、一覧に反映される。
  - 削除後は `refresh` により一覧から該当メモが除外される。
- **結果**: 未実施 (Supabase API が利用不可のため)。

## 自動テスト
- `npm run lint`: 対話式セットアップが開始され自動実行できず。ESLint 設定が未作成のためキャンセル。

