# テストケース: Issue #27 - メモをChatGPTで整形できるようにする

## テストケース1: ChatGPTアイコンが表示される
- **手順**: 書籍詳細ページで自分のメモを表示し、メモカード右上のアイコン群を確認する。
- **期待結果**: 編集・削除アイコンの横に ChatGPT アイコン（Sparkles）が表示される。
- **結果**: 未実施（Supabase 認証環境が未接続のため）。

## テストケース2: コピー用ポップアップでChatGPTへ遷移する
- **手順**: ChatGPT アイコンをクリックし、表示されたポップアップの「プロンプトをコピーする」ボタンを押した後、新規タブで https://chatgpt.com/ が開くか確認する。
- **期待結果**: ボタン押下直後にプロンプトがコピーされ、続いて ChatGPT が新しいタブで開く。
- **結果**: 未実施（Supabase 認証環境が未接続のため）。

## テストケース3: メタプロンプト付きでメモがコピーされる
- **手順**: ChatGPT ポップアップの「プロンプトをコピーする」ボタンを押し、ChatGPT 側で貼り付け操作を行い、メモがテンプレートに沿ってコピーされているか確認する。
- **期待結果**: 以下のフォーマットで貼り付けられること  
  ```
  # メタプロンプト 以下のメモから要点を抽出、メモを整理して500文字以内のテキストで整理されたメモを出力して下さい。箇条書きは禁止し、段落形式で記述して下さい。
  # メモ
  <メモ本文>
  ```
- **結果**: 未実施（Supabase 認証環境が未接続のため）。

## テストケース4: コピー失敗時のメッセージ表示
- **手順**: クリップボード API を利用できない環境でアイコンを押し、ポップアップ後にエラーメッセージが表示されるか確認する。
- **期待結果**: 「メモのコピーに失敗しました。手動でコピーしてください。」が表示される。
- **結果**: 未実施（Supabase 認証環境が未接続のため）。

## テストケース5: ChatGPT から戻っても同じページに留まる
- **手順**: Sparkles アイコンを押して ChatGPT を開いた後、アプリのタブに戻り `/books/:id` のまま表示されるか確認する。
- **期待結果**: ブラウザがホームにリダイレクトせず、元の書籍詳細ページに戻る。
- **結果**: 未実施（Supabase 認証環境が未接続のため）。

## 自動テスト
- `npm run lint`: Next.js が ESLint セットアップダイアログを表示するため自動実行不可。
